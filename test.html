<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous"/>
	<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
	<style type="text/css">
	#infoPanel{
		display: none;
	}
	#result{
		display: none;
	}
	</style>
</head>
<body>

<table>
	<tr>
		<!--<td id="1" onclick="showInfos('10.33.1.1','tout marche :p');">Pouet</td>-->
		<td style="height:30px;background-color:#00FF00" id="1" onclick="showInfos('1')" vlan="-No Vlan Associed-" ip="10.33.1.1" nom="Name" netmask="dyiqujildsvuisqhd" community="toto">aaa</td>
	</tr>
</table>

<!-- A mettre ou tu veux -->
<div class="row">
	<div class="col-md-4 col-md-offset-4">
		<div id="infoPanel" class="panel panel-default">
		  <div class="panel-heading">
		    <div class="row">
		    	<div class="col-md-3" id="infosName"></div>
		    		<div class="col-md-1 col-md-offset-8">
		    			<span onclick="closeInfo()" class="glyphicon glyphicon-remove"></span>
		    		</div>
		    	</div>
		  	</div>
		  	<form class="form-horizontal">
				<div class="form-group">
				    <label class="col-sm-2 control-label">IP</label>
					<div class="col-sm-10">
					    <p class="form-control-static" id="infosIP"></p>
		   			</div>
		  		</div>
		  		<div class="form-group">
		  			<label for="" class="col-sm-2 control-label">NETMASK</label> 
		  			<div class="col-sm-10">
		    			<p class="form-control-static" id="infosMASK"></p>
		    		</div>
		  		</div>
		  		<div class="form-group">
		   			<label for="inputVlan" class="col-sm-2 control-label">VLAN</label>
		    		<div class="col-sm-10">
		    	  		<input class="form-control" type="text" name="vlanID" id="infosVLAN"/>
		    		</div>
		  		</div>
		  		
		  		<span id="infosID" infosID=""></span>
		  		<span id="infosCommunity" infosCommunity=""></span>
			</form>
			<div class="row">
				<div class="col-md-2 col-md-offset-10">
					<button onclick="send()" class="btn button">Send</button>
				</div>
			</div>
			<div class="row">
				<div id="result" class="col-md-10 col-md-offset-1">
				</div>
			</div>
		</div>
	</div>
</div>
<!-- // -->

<script type="text/javascript">
	function showInfos(id){		
		$("#infoPanel").css("display","block");
		$("#infosIP").html($("#"+id).attr('ip'));
		$("#infosVLAN").attr('value',$("#"+id).attr('vlan'));
		$("#infosMASK").html($("#"+id).attr('netmask'));
		$("#infosName").html($("#"+id).attr('nom'));
		$("#infosID").attr('infosID',id);
		$("#infosCommunity").attr('infosCommunity',$("#"+id).attr('community'));
	}

	function closeInfo(){
		$("#infoPanel").css("display","none");
	}

	function send(){
		$.ajax({
			type:"POST",
			url:"setvlan.php",
			data:{
				"id":$("#infosID").attr('infosID'),
				"vlan":$("#infosVLAN").val(),
				"ip":$("#infosIP").html(),
				"community":$("#infosCommunity").attr('infosCommunity')
			},
			success:function(res){
				$("#result").css("display","block");
				if(res.search("Move")){
					$("#result").html('<div class="alert alert-success" role="alert">'+res+'</div>');
				}else{
					$("#result").html('<div class="alert alert-danger" role="alert">'+res+'</div>');
				}
			}
		}); 
	}
</script>

</body>
</html>